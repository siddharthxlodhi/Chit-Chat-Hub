<div class="main">
  <!-- Top bar -->
  <div class="top-bar"></div>

  <!-- Main chat container -->
  <div class="chat-container">

    <!-- Chat list: visible on desktop or when no chat selected (mobile) -->
    <app-chat-list
      *ngIf="!selectedChat || isDesktopView"
      [chats]="chats"
      (chatSelected)="chatSelectedMethod($event)"
      class="w-full md:w-1/3 h-full overflow-y-auto border-r border-gray-200"
    >
    </app-chat-list>

    <!-- Chat window: visible only when a chat is selected -->
    <div *ngIf="selectedChat" class="w-full md:w-2/3 h-full flex flex-col">

      <!-- Back button for mobile -->
      <button
        class="md:hidden px-4 py-2 text-blue-600 text-sm bg-white shadow z-10"
        (click)="backToChatList()"
        aria-label="Back to chat list"
      >
        ← Back to chat list
      </button>

      <!-- Chat window component -->
      <app-chat-window
        [chat]="selectedChat"
        [chatMessages]="chatMessages"
        class="flex-1 overflow-hidden flex flex-col"
      >
      </app-chat-window>
    </div>

    <!-- Welcome message for desktop only -->
    <div
      *ngIf="!selectedChat && isDesktopView"
      class="w-2/3 h-full flex-col items-center justify-center bg-white text-center px-4 hidden md:flex"
    >
      <img
        src="logo.png"
        alt="Welcome Illustration"
        class="w-52 h-48 mb-4"
        style="margin-top: -40px;"
      />
      <h2 class="text-2xl font-semibold text-gray-800 mb-2">
        Welcome to Chit Chat Hub 👋
      </h2>
      <p class="text-gray-600 text-sm">
        Select a chat from the left panel to start messaging.
      </p>
    </div>
  </div>
</div>
